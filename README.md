# FinFlow — консольное приложение для управления личными финансами

FinFlow — консольное Java-приложение (CLI) для учёта доходов и расходов, бюджетов по категориям, статистики и оповещений.  
Данные хранятся в памяти и сериализуются в файл кошелька при выходе или логауте, загружаются при логине.

---

## Содержание

- [Возможности](#возможности)
- [Команды CLI](#команды-cli)
- [Примеры сессий](#примеры-сессий)
- [Архитектура](#архитектура)
- [Тесты](#тесты)

---

## Возможности

- Регистрация и авторизация нескольких пользователей.
- Кошелёк, привязанный к текущему пользователю: операции, категории, бюджеты.
- Доходы и расходы с привязкой к категориям.
- Бюджеты по категориям, расчёт оставшегося лимита, оповещения о перерасходе.
- Статистика: общая, по категориям, по выбранным категориям.
- Экспорт отчёта в CSV (`reports/<login>_report_<date>.csv`).
- Сериализация кошелька при выходе/логауте и загрузка при логине.
- Валидация пользовательского ввода.

---

## Команды CLI
Гостевое меню:
 - register	регистрация нового пользователя
 - login	  вход по логину и паролю
 - help    	показать подсказку
 - exit    	выйти из приложения
   
Меню авторизованного пользователя:
 - addcat     	добавить категорию расходов/доходов
 - setbudget	 установить/изменить бюджет по категории
 - addinc	     добавить доход
 - addexp	     добавить расход
 - stats	     итоги по доходам/расходам и бюджетам
 - stats cat	 итоги по категориям (доходы/расходы)
 - stats cats	 итоги по выбранным категориям
 - stats file	 сохранить отчёт в файл
 - logout    	 выйти из аккаунта
 - help      	 показать подсказку
 - exit	       выйти из приложения

## Примеры сессий
### Регистрация и вход
```bash
> register
Введите логин: user
Введите пароль: password
Пользователь user зарегистрирован. Используйте команду login, чтобы авторизоваться.

> login
Введите логин: user
Введите пароль: password
Добро пожаловать, user!
```

### Категории, бюджеты, операции
```bash
> addcat
Название категории: Еда
Категория Еда добавлена.

> setbudget
Категория: Еда
Лимит в месяц: 4000
Бюджет по категории 'Еда' установлен: 4000

> addexp
Категория: Еда
Сумма: 4500
!!! Внимание, бюджет по категории Еда превышен на 500 !!!
Чтобы скорректировать, используйте команду 'setbudget'
Расход записан.
```

## Архитектура
Основные слои:
 - FinFlowApp — консольный интерфейс (CLI): команды, ввод/вывод, валидация.
 - AuthService — управление пользователями и сессиями.
 - User — учётные данные пользователя и его Wallet.
 - Wallet — бизнес-логика: категории, операции, бюджеты, подсчёты.
 - Category — категория расходов или доходов с бюджетом.
 - Transaction + TransactionType — запись операции (сумма, категория, тип).

## Тесты 
### Запуск тестов
```bash
./gradlew test
```
